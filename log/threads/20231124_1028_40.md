# ユーザープロンプト

Your function never works well when I apply your function as follows:

```
adjust_column_width("""
| クエリID   |   検索数k | matched_source                                                                                                                                                                                                                 | missed_source                                                                                                                                                                                                      | excessive_source                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | モデル     |
|:-----------|----------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
""")
```

Maybe linebreaks do bad things, but I don't know how to relove this issue. Help me.

# LLMの出力結果

```python
import re

# テーブルの列幅を調整するための正規表現パターンを定義する
column_pattern = re.compile(r'(:?-{3,})')

# テーブルの列幅を調整する関数を定義する
def adjust_column_width(text):
    # 各行に対して列幅を調整する
    def adjust_line(line):
        parts = line.split('|')
        parts[1] = parts[1].replace('-', '---', 1)
        parts[2] = parts[2].replace('-', '---', 1)
        return '|'.join(parts)
    
    # 複数行のテキストを行ごとに分割して調整する
    return '\n'.join(adjust_line(line) for line in text.strip().split('\n'))

# テスト用のテキストを定義する
test_text = """
| クエリID   |   検索数k | matched_source                                                                                                                                                                                                                 | missed_source                                                                                                                                                                                                      | excessive_source                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | モデル     |
|:-----------|----------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
"""

# テスト用のテキストの列幅を調整する
adjusted_text = adjust_column_width(test_text)

# 調整結果を表示する
print(adjusted_text)
```