# ユーザープロンプト

I have the following pandas dataframe:

```
| クエリID   |   検索数k | matched_source                                                                                                                                                          | missed_source                                                                                                                                                                                                      | excessive_source                                                                                                                                                                                                | モデル     |
|---|---|----------|----------|----------|
| 2          |         3 | 他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3） | 電子調達システムに必要な準備について・英語版OSの利用可否について                                                                                                                                             |                                                                                                                                                                                                               | gpt-4-0613 |
| 2_b        |         3 | 他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3） | 電子調達システムに必要な準備について・英語版OSの利用可否について                                                                                                                                             |                                                                                                                                                                                                               | gpt-4-0613 |
| 2_i        |         3 |                                                                                                                                                                       | 電子調達システムに必要な準備について・本システム利用端末の専用化の必要性について・英語版OSの利用可否について・各府省等個別電子入札システムを利用していた端末の利用について・他システムとの混在について | 「予期せぬエラーが発生しました。」が表示される場合について（出典1）・既存の電子入札システムで入札した案件について（出典2）・Microsoft Edgeを利用する場合のChrome拡張機能のインストールについて（出典3） | gpt-4-0613 |
| 2_s        |         3 | 他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3） | 電子調達システムに必要な準備について・英語版OSの利用可否について                                                                                                                                             |                                                                                                                                                                                                               | gpt-4-0613 |
```

Sort it by the value of `クエリID` so that value without any suffix comes first row, the value suffixed by `_s` comes second, the value suffixed by `_b` comes third, and the value suffixed by `_i` comes last

# LLMの出力結果

```python
import pandas as pd

# ソート順を定義するための辞書を作成する
sort_order = {'': 0, '_s': 1, '_b': 2, '_i': 3}

# ソートキーを生成する関数を定義する
def sort_key(value):
    # クエリIDの接尾辞に基づいてソート順を取得する
    for suffix in sort_order.keys():
        if value.endswith(suffix):
            return sort_order[suffix]
    return sort_order['']

# データフレームを作成する
df = pd.DataFrame({
    'クエリID': ['2', '2_b', '2_i', '2_s'],
    '検索数k': [3, 3, 3, 3],
    'matched_source': [
        '他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3）',
        '他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3）',
        '',
        '他システムとの混在について（出典1）・本システム利用端末の専用化の必要性について（出典2）・各府省等個別電子入札システムを利用していた端末の利用について（出典3）'
    ],
    'missed_source': [
        '電子調達システムに必要な準備について・英語版OSの利用可否について',
        '電子調達システムに必要な準備について・英語版OSの利用可否について',
        '電子調達システムに必要な準備について・本システム利用端末の専用化の必要性について・英語版OSの利用可否について・各府省等個別電子入札システムを利用していた端末の利用について・他システムとの混在について',
        '電子調達システムに必要な準備について・英語版OSの利用可否について'
    ],
    'excessive_source': [
        '',
        '',
        '「予期せぬエラーが発生しました。」が表示される場合について（出典1）・既存の電子入札システムで入札した案件について（出典2）・Microsoft Edgeを利用する場合のChrome拡張機能のインストールについて（出典3）',
        ''
    ],
    'モデル': ['gpt-4-0613', 'gpt-4-0613', 'gpt-4-0613', 'gpt-4-0613']
})

# ソートキーを使用してデータフレームをソートする
df_sorted = df.assign(sort_key=df['クエリID'].apply(sort_key)).sort_values('sort_key').drop('sort_key', axis=1)

# ソートされたデータフレームを表示する
print(df_sorted)
```